{"ast":null,"code":"import _objectSpread from\"C:/Users/Gokul/Documents/GitHub/Todolist-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:/Users/Gokul/Documents/GitHub/Todolist-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"C:/Users/Gokul/Documents/GitHub/Todolist-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"C:/Users/Gokul/Documents/GitHub/Todolist-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Gokul/Documents/GitHub/Todolist-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from\"react\";import{Button,Modal}from'react-bootstrap';import{useHistory,useParams}from\"react-router\";import{Link}from\"react-router-dom\";import{Addtask,Deletetask,Gettask,Updatetask}from\"./api\";import TaskContext from\"./taskcontext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Task(){var history=useHistory();var task=useContext(TaskContext);var _useParams=useParams(),id=_useParams.id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tasklist=_useState2[0],updatetasklist=_useState2[1];var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),modalShow=_React$useState2[0],setModalShow=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),editmodalShow=_React$useState4[0],seteditModalShow=_React$useState4[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),today=_useState4[0],updatetoday=_useState4[1];var arr=id.split(\"-\");var monthname=arr[1];arr[1]=convertToNum(monthname);var calenderlink=\"/calender/\"+arr[2];// console.log(calenderlink)\nuseEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var obj,response,date,currentdate,currentmonth;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:task.updateuserdata(_toConsumableArray(arr));obj={date:+arr[0],month:arr[1]};_context.next=4;return Gettask(arr[2],obj);case 4:response=_context.sent;console.log(response.data);updatetasklist(_toConsumableArray(response.data));date=new Date();currentdate=date.getDate();currentmonth=date.getMonth();// console.log(currentdate,currentmonth,+arr[0],arr[1]);\nif(currentmonth>arr[1]){document.getElementById(\"addbutton\").style.visibility=\"hidden\";console.log(\"button\",document.getElementById(\"addbutton\"));}else{if(currentmonth==arr[1]&&currentdate>+arr[0]){document.getElementById(\"addbutton\").style.visibility=\"hidden\";}if(currentmonth==arr[1]&&currentdate==arr[0]){updatetoday(true);// console.log(\"today\",today);\n}}case 11:case\"end\":return _context.stop();}}},_callee);})),[]);useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var obj,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:task.updateuserdata(_toConsumableArray(arr));obj={date:+arr[0],month:arr[1]};_context2.next=4;return Gettask(arr[2],obj);case 4:response=_context2.sent;updatetasklist(_toConsumableArray(response.data));case 6:case\"end\":return _context2.stop();}}},_callee2);})),[modalShow,editmodalShow]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"container-fluid bg-primary\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"row  taskheader\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-1\",children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-warning\",onClick:function onClick(){history.push(calenderlink);},children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-arrow-circle-left fa-1x\"})})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-10 \",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"To do list on \",\"\".concat(arr[0],\"-\").concat(monthname)]})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-1\",children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-warning\",onClick:function onClick(){window.localStorage.removeItem(\"app_token1\");history.push(\"/\");},children:\"Logout\"})})]}),/*#__PURE__*/_jsx(\"button\",{class:\"addbutton btn btn-primary\",id:\"addbutton\",onClick:function onClick(){return setModalShow(true);},children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-plus-circle fa-2x\"})}),/*#__PURE__*/_jsx(MyVerticallyCenteredModal,{show:modalShow,onHide:function onHide(){return setModalShow(false);},id:id,today:today})]}),/*#__PURE__*/_jsx(\"div\",{class:\"taskbackground\",children:/*#__PURE__*/_jsxs(\"table\",{class:\"table task\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{class:\"task\",children:[/*#__PURE__*/_jsx(\"th\",{class:\"task time\",scope:\"col\",children:\"Time\"}),/*#__PURE__*/_jsx(\"th\",{class:\"task name\",scope:\"col\",children:\"Task Name\"}),/*#__PURE__*/_jsx(\"th\",{class:\"task des\",scope:\"col\",children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{class:\"task time\",scope:\"col\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{class:\"task action\",scope:\"col\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tasklist.map(function(i){return/*#__PURE__*/_jsxs(\"tr\",{class:\"task \",children:[/*#__PURE__*/_jsx(\"td\",{class:\"task taskdata\",children:i.TaskTime}),/*#__PURE__*/_jsx(\"td\",{class:\"task taskdata\",children:i.Taskname}),/*#__PURE__*/_jsx(\"td\",{class:\"task taskdata\",children:i.Taskdescription}),i.Completed==false?/*#__PURE__*/_jsx(\"td\",{class:\"task taskdata\",style:{color:\"black\"},children:\"waiting\"}):/*#__PURE__*/_jsx(\"td\",{class:\"task taskdata\",style:{color:\"Green\"},children:\"done\"}),/*#__PURE__*/_jsxs(\"td\",{class:\"task taskdata\",children:[/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-danger bigger\",onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var obj,response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return Deletetask(i._id);case 2:obj={date:+arr[0],month:arr[1]};_context3.next=5;return Gettask(arr[2],obj);case 5:response=_context3.sent;updatetasklist(_toConsumableArray(response.data));case 7:case\"end\":return _context3.stop();}}},_callee3);})),children:/*#__PURE__*/_jsx(\"i\",{class:\"far fa-calendar-times\"})}),/*#__PURE__*/_jsxs(\"button\",{class:\"btn btn-primary bigger\",onClick:function onClick(){seteditModalShow(true);},children:[/*#__PURE__*/_jsx(\"i\",{class:\"far fa-edit\"}),/*#__PURE__*/_jsx(MyVerticallyCenteredEditModal,{show:editmodalShow,onHide:function onHide(){return seteditModalShow(false);},data:i,today:today})]})]})]});})})]})})]});}function MyVerticallyCenteredModal(props){var task=useContext(TaskContext);var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),tname=_useState6[0],updatetname=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),tdes=_useState8[0],updatetdes=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),tt=_useState10[0],updatett=_useState10[1];var _useState11=useState(\"Press Esc to exit without saving\"),_useState12=_slicedToArray(_useState11,2),message=_useState12[0],updatemessage=_useState12[1];return/*#__PURE__*/_jsxs(Modal,_objectSpread(_objectSpread({},props),{},{size:\"lg\",\"aria-labelledby\":\"contained-modal-title-vcenter\",centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{children:/*#__PURE__*/_jsx(Modal.Title,{id:\"contained-modal-title-vcenter\",children:\"Task\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(e){var date,currenthour,currentmin,array,obj,_obj,_obj2;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:e.preventDefault();//console.log(props.today);\nif(!(props.today==true)){_context4.next=36;break;}date=new Date();currenthour=date.getHours();currentmin=date.getMinutes();//console.log(tt);\narray=tt.split(\":\");console.log(+array[0],currenthour);if(!(+array[0]>=currenthour)){_context4.next=32;break;}if(!(+array[0]>currenthour)){_context4.next=18;break;}obj={Taskname:tname,Taskdescription:tdes,TaskTime:tt,Taskmonth:task.userdata[1],Taskdate:+task.userdata[0],Userid:task.userdata[2],Completed:false};_context4.next=12;return Addtask(obj);case 12:updatetname(\"\");updatett(\"\");updatetdes(\"\");props.onHide();_context4.next=30;break;case 18:if(!(currenthour==array[0]&&array[1]>=currentmin+20)){_context4.next=28;break;}_obj={Taskname:tname,Taskdescription:tdes,TaskTime:tt,Taskmonth:task.userdata[1],Taskdate:+task.userdata[0],Userid:task.userdata[2],Completed:false};_context4.next=22;return Addtask(_obj);case 22:updatetname(\"\");updatett(\"\");updatetdes(\"\");props.onHide();_context4.next=30;break;case 28:updatemessage(\"Please register atleast a 20-mins before\");updatett(\"\");case 30:_context4.next=34;break;case 32:updatemessage(\"Please register atleast a 20-mins before\");updatett(\"\");case 34:_context4.next=43;break;case 36:_obj2={Taskname:tname,Taskdescription:tdes,TaskTime:tt,Taskmonth:task.userdata[1],Taskdate:+task.userdata[0],Userid:task.userdata[2],Completed:false};_context4.next=39;return Addtask(_obj2);case 39:updatetname(\"\");updatett(\"\");updatetdes(\"\");props.onHide();case 43:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x){return _ref4.apply(this,arguments);};}(),children:[/*#__PURE__*/_jsxs(\"div\",{class:\"container-fluid row col-12\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"taskname\",class:\"form-label\",children:\"Task Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",id:\"taskname\",required:true,value:tname,onChange:function onChange(e){updatetname(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{class:\"container-fluid row col-12\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"description\",class:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{class:\"form-control\",id:\"description\",rows:\"2\",required:true,value:tdes,onChange:function onChange(e){updatetdes(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{class:\"container-fluid row  col-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"time\",class:\"form-label\",children:\"Time-(HH:mm-AM/PM)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",class:\"form-control form-sm\",min:\"00:00\",max:\"23:59\",id:\"time\",required:true,value:tt,onChange:function onChange(e){updatett(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{class:\"container-fluid row  col-12\",children:/*#__PURE__*/_jsxs(\"span\",{style:{color:\"blue\"},children:[\" \",message]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-primary\",type:\"submit\",children:\"Submit\"})})]})})]}));}function MyVerticallyCenteredEditModal(props){var _useState13=useState(props.data.Taskname),_useState14=_slicedToArray(_useState13,2),tname=_useState14[0],updatetname=_useState14[1];var _useState15=useState(props.data.Taskdescription),_useState16=_slicedToArray(_useState15,2),tdes=_useState16[0],updatetdes=_useState16[1];var _useState17=useState(props.data.TaskTime),_useState18=_slicedToArray(_useState17,2),tt=_useState18[0],updatett=_useState18[1];var _useState19=useState(\"Press Esc to exit without saving\"),_useState20=_slicedToArray(_useState19,2),message=_useState20[0],updatemessage=_useState20[1];return/*#__PURE__*/_jsxs(Modal,_objectSpread(_objectSpread({},props),{},{size:\"lg\",\"aria-labelledby\":\"contained-modal-title-vcenter\",centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{children:/*#__PURE__*/_jsx(Modal.Title,{id:\"contained-modal-title-vcenter\",children:\"Task\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(e){var date,currenthour,currentmin,array,obj,response,_obj3,_response,_obj4,_response2;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:e.preventDefault();if(!(props.today==true)){_context5.next=43;break;}date=new Date();currenthour=date.getHours();currentmin=date.getMinutes();//console.log(tt);\narray=tt.split(\":\");if(!(+array[0]>=currenthour)){_context5.next=39;break;}if(!(+array[0]>currenthour)){_context5.next=21;break;}obj={Taskname:tname,Taskdescription:tdes,TaskTime:tt,Completed:false};_context5.next=11;return Updatetask(props.data._id,obj);case 11:response=_context5.sent;console.log(response.data);updatetname(\"\");updatett(\"\");updatetdes(\"\");updatemessage(\"\");props.onHide();window.location.reload(false);_context5.next=37;break;case 21:if(!(currenthour==array[0]&&array[1]>=currentmin+20)){_context5.next=35;break;}_obj3={Taskname:tname,Taskdescription:tdes,TaskTime:tt,Completed:false};_context5.next=25;return Updatetask(props.data._id,_obj3);case 25:_response=_context5.sent;console.log(_response.data);updatetname(\"\");updatett(\"\");updatetdes(\"\");updatemessage(\"\");props.onHide();window.location.reload(false);_context5.next=37;break;case 35:updatemessage(\"Please register atleast a 20-mins before\");updatett(\"\");case 37:_context5.next=41;break;case 39:updatemessage(\"Please register atleast a 20-mins before\");updatett(\"\");case 41:_context5.next=54;break;case 43:_obj4={Taskname:tname,Taskdescription:tdes,TaskTime:tt,Completed:false};_context5.next=46;return Updatetask(props.data._id,_obj4);case 46:_response2=_context5.sent;console.log(_response2.data);updatetname(\"\");updatett(\"\");updatetdes(\"\");updatemessage(\"\");props.onHide();window.location.reload(false);case 54:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x2){return _ref5.apply(this,arguments);};}(),children:[/*#__PURE__*/_jsxs(\"div\",{class:\"container-fluid row col-12\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"taskname\",class:\"form-label\",children:\"Task Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",id:\"taskname\",required:true,value:tname,onChange:function onChange(e){updatetname(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{class:\"container-fluid row col-12\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"description\",class:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{class:\"form-control\",id:\"description\",rows:\"2\",required:true,value:tdes,onChange:function onChange(e){updatetdes(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{class:\"container-fluid row  col-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"time\",class:\"form-label\",children:\"Time-(HH:mm-AM/PM)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",class:\"form-control form-sm\",min:\"00:00\",max:\"23:59\",id:\"time\",required:true,value:tt,onChange:function onChange(e){updatett(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{class:\"container-fluid row  col-12\",children:/*#__PURE__*/_jsxs(\"span\",{style:{color:\"blue\"},children:[\" \",message]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-primary\",type:\"submit\",children:\"save\"})})]})})]}));}function convertToNum(Month){switch(Month){case\"January\":{return 0;}case\"Febuary\":{return 1;}case\"March\":{return 2;}case\"April\":{return 3;}case\"May\":{return 4;}case\"June\":{return 5;}case\"July\":{return 6;}case\"August\":{return 7;}case\"September\":{return 8;}case\"October\":{return 9;}case\"November\":{return 10;}case\"December\":{return 11;}}}","map":{"version":3,"sources":["C:/Users/Gokul/Documents/GitHub/Todolist-frontend/src/task.js"],"names":["React","useContext","useEffect","useState","Button","Modal","useHistory","useParams","Link","Addtask","Deletetask","Gettask","Updatetask","TaskContext","Task","history","task","id","tasklist","updatetasklist","modalShow","setModalShow","editmodalShow","seteditModalShow","today","updatetoday","arr","split","monthname","convertToNum","calenderlink","updateuserdata","obj","date","month","response","console","log","data","Date","currentdate","getDate","currentmonth","getMonth","document","getElementById","style","visibility","push","window","localStorage","removeItem","map","i","TaskTime","Taskname","Taskdescription","Completed","color","_id","MyVerticallyCenteredModal","props","tname","updatetname","tdes","updatetdes","tt","updatett","message","updatemessage","e","preventDefault","currenthour","getHours","currentmin","getMinutes","array","Taskmonth","userdata","Taskdate","Userid","onHide","target","value","MyVerticallyCenteredEditModal","location","reload","Month"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Button,Modal } from 'react-bootstrap';\r\nimport { useHistory, useParams } from \"react-router\"\r\nimport { Link } from \"react-router-dom\";\r\nimport { Addtask, Deletetask, Gettask ,Updatetask } from \"./api\";\r\nimport TaskContext from \"./taskcontext\";\r\n\r\n\r\n\r\n\r\n\r\nexport default function Task()\r\n{   \r\n    let history = useHistory();\r\n    let task = useContext(TaskContext);\r\n    let {id} = useParams();\r\n    const[tasklist,updatetasklist] = useState([]);\r\n    const [modalShow, setModalShow] = React.useState(false);\r\n    const [editmodalShow, seteditModalShow] = React.useState(false);\r\n    let [today,updatetoday] = useState(false);\r\n    let arr = id.split(\"-\");\r\n    let monthname = arr[1];\r\n    arr[1] =convertToNum(monthname);\r\n    let calenderlink = \"/calender/\"+arr[2];\r\n   // console.log(calenderlink)\r\n    useEffect( async()=>{\r\n      task.updateuserdata([...arr]); \r\n      let obj = {\r\n        date : +arr[0],\r\n        month: arr[1]\r\n      }\r\n      let response = await Gettask(arr[2],obj)\r\n      console.log(response.data);\r\n      updatetasklist([...response.data]);\r\n      let date = new Date();\r\n      let currentdate = date.getDate();\r\n      let currentmonth = date.getMonth();\r\n     // console.log(currentdate,currentmonth,+arr[0],arr[1]);\r\n      if(currentmonth>arr[1])\r\n      {\r\n          document.getElementById(\"addbutton\").style.visibility=\"hidden\";\r\n          console.log(\"button\" ,document.getElementById(\"addbutton\"));\r\n      }\r\n      else\r\n      {\r\n        if(currentmonth==arr[1]&&currentdate>+arr[0])\r\n        {\r\n          document.getElementById(\"addbutton\").style.visibility=\"hidden\";\r\n        }\r\n        if(currentmonth==arr[1]&&currentdate==arr[0])\r\n        {\r\n         updatetoday(true);\r\n        // console.log(\"today\",today);\r\n         \r\n        }\r\n      }\r\n    },[])\r\n    useEffect( async()=>{\r\n      task.updateuserdata([...arr]); \r\n      let obj = {\r\n        date : +arr[0],\r\n        month: arr[1]\r\n      }\r\n      let response = await Gettask(arr[2],obj)\r\n      updatetasklist([...response.data]);\r\n      \r\n    },[modalShow,editmodalShow])\r\n    return<> \r\n    <div class=\"container-fluid bg-primary\">\r\n        <div class=\"row  taskheader\">\r\n          \r\n          <div class=\"col-1\">\r\n          <button class=\"btn btn-warning\" onClick={()=>{history.push(calenderlink)}}><i class=\"fas fa-arrow-circle-left fa-1x\"></i></button>\r\n            </div>\r\n          <div class=\"col-10 \">\r\n           <span>To do list on {`${arr[0]}-${monthname}`}</span>\r\n           </div>\r\n           <div class=\"col-1\">\r\n          <button class=\"btn btn-warning\" onClick={ ()=>{\r\n             window.localStorage.removeItem(\"app_token1\");\r\n             history.push(\"/\")\r\n         }}>Logout</button>\r\n            </div>\r\n        </div>\r\n        <button class=\"addbutton btn btn-primary\" id=\"addbutton\" onClick={() => setModalShow(true)}><i class=\"fas fa-plus-circle fa-2x\"></i></button>\r\n        <MyVerticallyCenteredModal\r\n        show={modalShow}\r\n        onHide={() => setModalShow(false)}\r\n        id={id}\r\n        today={today}\r\n      />\r\n        \r\n    </div>\r\n    <div class=\"taskbackground\">\r\n    <table class=\"table task\">\r\n    <thead>\r\n    <tr class=\"task\">\r\n      <th class=\"task time\" scope=\"col\">Time</th>\r\n      <th class=\"task name\" scope=\"col\">Task Name</th>\r\n      <th class=\"task des\" scope=\"col\">Description</th>\r\n      <th class=\"task time\" scope=\"col\">Status</th>\r\n      <th class=\"task action\" scope=\"col\">Action</th>\r\n    </tr> \r\n  </thead>\r\n  <tbody>{\r\n    tasklist.map((i)=>{\r\n\r\n    return <tr class=\"task \">\r\n      <td class=\"task taskdata\">{i.TaskTime}</td>\r\n      <td class=\"task taskdata\">{i.Taskname}</td>\r\n      <td class=\"task taskdata\">{i.Taskdescription}</td>\r\n      {\r\n      i.Completed==false?<td class=\"task taskdata\"style={{color:`black`}}>waiting</td>:<td class=\"task taskdata\"style={{color:`Green`}}>done</td>\r\n       }\r\n      <td class=\"task taskdata\"><button class=\"btn btn-danger bigger\" onClick={\r\n        async()=>{\r\n          await Deletetask(i._id);\r\n          let obj = {\r\n            date : +arr[0],\r\n            month: arr[1]\r\n          }\r\n          let response = await Gettask(arr[2],obj)\r\n          updatetasklist([...response.data]);\r\n        }\r\n      }><i class=\"far fa-calendar-times\"></i></button><button class=\"btn btn-primary bigger\" onClick={\r\n        ()=>{seteditModalShow(true)}\r\n      }><i class=\"far fa-edit\"></i><MyVerticallyCenteredEditModal\r\n      show={editmodalShow}\r\n      onHide={() => seteditModalShow(false)}\r\n      data={i}\r\n      today={today}\r\n    /></button></td>\r\n    </tr>\r\n    })}\r\n  </tbody>\r\n</table>\r\n</div>\r\n</>\r\n}\r\n\r\nfunction MyVerticallyCenteredModal(props) {\r\n  let task = useContext(TaskContext);\r\n  const[tname,updatetname] = useState(\"\");\r\n  const[tdes,updatetdes] = useState(\"\");\r\n  const[tt,updatett] = useState(\"\"); \r\n  const[message,updatemessage] = useState(\"Press Esc to exit without saving\");\r\n  return (<Modal\r\n      {...props}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header>\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n          Task\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <form onSubmit={\r\n         async (e)=>{\r\n              e.preventDefault();\r\n              //console.log(props.today);\r\n              if(props.today==true)\r\n              {\r\n                let date = new Date();\r\n                let currenthour = date.getHours();\r\n                let currentmin = date.getMinutes();\r\n                //console.log(tt);\r\n                let array = tt.split(\":\");\r\n                console.log(+array[0],currenthour);\r\n                if(+array[0]>=currenthour)\r\n                 {\r\n                    if(+array[0]>currenthour)\r\n                    {\r\n                      let obj = \r\n                      {\r\n                        Taskname :tname,\r\n                        Taskdescription:tdes,\r\n                        TaskTime:tt,\r\n                        Taskmonth: task.userdata[1],\r\n                        Taskdate : +task.userdata[0],\r\n                        Userid : task.userdata[2],\r\n                        Completed: false\r\n                      }\r\n                     \r\n                      await Addtask(obj);\r\n                      updatetname(\"\");\r\n                      updatett(\"\");\r\n                      updatetdes(\"\");\r\n                      props.onHide();\r\n                    }\r\n                 else\r\n                 { \r\n                   if(currenthour==array[0]&&array[1]>=currentmin+20)\r\n                   {\r\n                    let obj = \r\n                    {\r\n                      Taskname :tname,\r\n                      Taskdescription:tdes,\r\n                      TaskTime:tt,\r\n                      Taskmonth: task.userdata[1],\r\n                      Taskdate : +task.userdata[0],\r\n                      Userid : task.userdata[2],\r\n                      Completed: false\r\n                    }\r\n                   \r\n                    await Addtask(obj);\r\n                    updatetname(\"\");\r\n                    updatett(\"\");\r\n                    updatetdes(\"\");\r\n                    props.onHide();\r\n                   }\r\n                   else\r\n                   {\r\n                   updatemessage(\"Please register atleast a 20-mins before\");\r\n                   updatett(\"\");}\r\n                 }\r\n              }else{\r\n                updatemessage(\"Please register atleast a 20-mins before\");\r\n                   updatett(\"\");\r\n          }}\r\n          else\r\n          {\r\n            let obj = \r\n                {\r\n                  Taskname :tname,\r\n                  Taskdescription:tdes,\r\n                  TaskTime:tt,\r\n                  Taskmonth: task.userdata[1],\r\n                  Taskdate : +task.userdata[0],\r\n                  Userid : task.userdata[2],\r\n                  Completed: false\r\n                }\r\n               \r\n                await Addtask(obj);\r\n                updatetname(\"\");\r\n                updatett(\"\");\r\n                updatetdes(\"\");\r\n                props.onHide();\r\n          }\r\n        }}>\r\n        <div class=\"container-fluid row col-12\">\r\n     <label for=\"taskname\" class=\"form-label\">Task Name</label>\r\n      <input type=\"text\" class=\"form-control\" id=\"taskname\" required value={tname} onChange={\r\n        (e)=>{updatetname(e.target.value)}\r\n      } />\r\n     </div><br/>\r\n     <div class=\"container-fluid row col-12\">\r\n     <label for=\"description\" class=\"form-label\">Description</label>\r\n     <textarea class=\"form-control\" id=\"description\" rows=\"2\" required value={tdes} onChange={(e)=>{updatetdes(e.target.value)}}></textarea>\r\n     </div><br/>\r\n     <div class=\"container-fluid row  col-4\">\r\n     <label for=\"time\" class=\"form-label\">Time-(HH:mm-AM/PM)</label>\r\n     <input type=\"time\" class=\"form-control form-sm\" min=\"00:00\" max=\"23:59\" id=\"time\" required value={tt} onChange={\r\n       (e)=>{updatett(e.target.value)}\r\n     } />\r\n     </div><br/>\r\n     <div class=\"container-fluid row  col-12\">\r\n     <span style={{color:\"blue\"}}> {message}</span>\r\n     </div><br/>\r\n        <Modal.Footer>\r\n        <button class=\"btn btn-primary\" type=\"submit\">Submit</button></Modal.Footer>\r\n        </form>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction MyVerticallyCenteredEditModal(props) {\r\n  \r\n  const[tname,updatetname] = useState(props.data.Taskname);\r\n  const[tdes,updatetdes] = useState(props.data.Taskdescription);\r\n  const[tt,updatett] = useState(props.data.TaskTime); \r\n  const[message,updatemessage] = useState(\"Press Esc to exit without saving\");\r\n  return (<Modal\r\n      {...props}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header>\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n          Task \r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        \r\n        <form onSubmit={\r\n         async (e)=>{\r\n              e.preventDefault();\r\n              if(props.today==true)\r\n              {\r\n                let date = new Date();\r\n                let currenthour = date.getHours();\r\n                let currentmin = date.getMinutes();\r\n                //console.log(tt);\r\n                let array = tt.split(\":\");\r\n                \r\n                if(+array[0]>=currenthour)\r\n                 {\r\n                    if(+array[0]>currenthour)\r\n                    {\r\n                      let obj = \r\n                      {\r\n                        Taskname :tname,\r\n                        Taskdescription:tdes,\r\n                        TaskTime:tt,\r\n                        Completed:false\r\n                      }\r\n                      \r\n                     let response =  await Updatetask(props.data._id,obj);\r\n                     console.log(response.data);\r\n                      updatetname(\"\");\r\n                      updatett(\"\");\r\n                      updatetdes(\"\");\r\n                      updatemessage(\"\");\r\n                      props.onHide();\r\n                      window.location.reload(false);\r\n                    }\r\n                 else\r\n                 { \r\n                   if(currenthour==array[0]&&array[1]>=currentmin+20)\r\n                   {\r\n                    let obj = \r\n                    {\r\n                      Taskname :tname,\r\n                      Taskdescription:tdes,\r\n                      TaskTime:tt,\r\n                      Completed:false\r\n                    }\r\n                    \r\n                   let response =  await Updatetask(props.data._id,obj);\r\n                   console.log(response.data);\r\n                    updatetname(\"\");\r\n                    updatett(\"\");\r\n                    updatetdes(\"\");\r\n                    updatemessage(\"\");\r\n                    props.onHide();\r\n                    window.location.reload(false);\r\n                   }\r\n                   else\r\n                   {\r\n                   updatemessage(\"Please register atleast a 20-mins before\");\r\n                   updatett(\"\");}\r\n                 }\r\n              }\r\n              else{\r\n                updatemessage(\"Please register atleast a 20-mins before\");\r\n                updatett(\"\");\r\n          }}\r\n          else\r\n          {\r\n            let obj = \r\n            {\r\n              Taskname :tname,\r\n              Taskdescription:tdes,\r\n              TaskTime:tt,\r\n              Completed:false\r\n            }\r\n            \r\n           let response =  await Updatetask(props.data._id,obj);\r\n           console.log(response.data);\r\n            updatetname(\"\");\r\n            updatett(\"\");\r\n            updatetdes(\"\");\r\n            updatemessage(\"\");\r\n            props.onHide();\r\n            window.location.reload(false);\r\n          }\r\n        }}>\r\n        <div class=\"container-fluid row col-12\">\r\n     <label for=\"taskname\" class=\"form-label\">Task Name</label>\r\n      <input type=\"text\" class=\"form-control\" id=\"taskname\" required value={tname} onChange={\r\n        (e)=>{updatetname(e.target.value)}\r\n      } />\r\n     </div><br/>\r\n     <div class=\"container-fluid row col-12\">\r\n     <label for=\"description\" class=\"form-label\">Description</label>\r\n     <textarea class=\"form-control\" id=\"description\" rows=\"2\" required value={tdes} onChange={(e)=>{updatetdes(e.target.value)}}></textarea>\r\n     </div><br/>\r\n     <div class=\"container-fluid row  col-4\">\r\n     <label for=\"time\" class=\"form-label\">Time-(HH:mm-AM/PM)</label>\r\n     <input type=\"time\" class=\"form-control form-sm\" min=\"00:00\" max=\"23:59\" id=\"time\" required value={tt} onChange={\r\n       (e)=>{updatett(e.target.value)}\r\n     } />\r\n     </div><br/>\r\n     <div class=\"container-fluid row  col-12\">\r\n     <span style={{color:\"blue\"}}> {message}</span>\r\n     </div><br/>\r\n        <Modal.Footer>\r\n       \r\n        <button class=\"btn btn-primary\" type=\"submit\">save</button>\r\n        </Modal.Footer>\r\n        </form>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n}\r\nfunction convertToNum(Month)\r\n{\r\n  switch(Month)\r\n  {\r\n      case \"January\" : \r\n      {\r\n          return 0;\r\n      }\r\n      case \"Febuary\" : \r\n      {\r\n          return 1 ;\r\n      }\r\n      case \"March\" :\r\n      {\r\n          return 2\r\n      }\r\n      case \"April\" :\r\n      {\r\n          return 3\r\n      }\r\n      case \"May\" :\r\n      {\r\n          return 4\r\n      }\r\n      case \"June\" :\r\n        {\r\n            return 5\r\n        }\r\n      case \"July\":\r\n        {\r\n            return 6\r\n        }\r\n        case \"August\":\r\n        {\r\n            return 7\r\n        } \r\n        case \"September\":\r\n        {\r\n            return 8\r\n        } \r\n        case \"October\":\r\n        {\r\n            return 9\r\n        } \r\n        case \"November\":\r\n        {\r\n            return 10\r\n        } \r\n        case \"December\":\r\n        {\r\n            return 11\r\n        } \r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}